---
// Footer component - mostly static with minimal vanilla JS for back-to-top button
const currentYear = new Date().getFullYear();

// SVG icons as strings for static rendering
const icons = {
  phone: '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>',
  mail: '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>',
  mapPin: '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>',
  arrowUp: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="19" x2="12" y2="5"/><polyline points="5 12 12 5 19 12"/></svg>',
};
---

<footer class="bg-gray-900 text-gray-300">
  <!-- Main Footer -->
  <div class="container px-5 sm:px-6 py-16">
    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
      <!-- Company Info -->
      <div class="space-y-4">
        <h3 class="text-white text-xl font-bold mb-4">
          Fußpflege Lena Schneider
        </h3>
        <p class="text-sm leading-relaxed">
          Professionelle kosmetische Fußpflege in Sachsenheim.
          Für gesunde und gepflegte Füße in entspannter Salon-Atmosphäre.
        </p>
      </div>

      <!-- Quick Links -->
      <div>
        <h3 class="text-white text-lg font-bold mb-4">Schnellzugriff</h3>
        <ul class="space-y-3">
          <li>
            <a
              href="#about"
              class="hover:text-primary-400 transition-colors text-sm block"
            >
              Über uns
            </a>
          </li>
          <li>
            <a
              href="#services"
              class="hover:text-primary-400 transition-colors text-sm block"
            >
              Leistungen
            </a>
          </li>
          <li>
            <a
              href="#benefits"
              class="hover:text-primary-400 transition-colors text-sm block"
            >
              Vorteile
            </a>
          </li>
          <li>
            <a
              href="#booking"
              class="hover:text-primary-400 transition-colors text-sm block"
            >
              Termin buchen
            </a>
          </li>
        </ul>
      </div>

      <!-- Services -->
      <div>
        <h3 class="text-white text-lg font-bold mb-4">Unsere Leistungen</h3>
        <ul class="space-y-3 text-sm">
          <li class="hover:text-primary-400 transition-colors">
            Präventive Kosmetische Fußpflege
          </li>
          <li class="hover:text-primary-400 transition-colors">
            Smart Pediküre
          </li>
          <li class="hover:text-primary-400 transition-colors">
            Klassische Fachfußpflege
          </li>
          <li class="hover:text-primary-400 transition-colors">
            Fußreflexzonenmassage
          </li>
          <li class="hover:text-primary-400 transition-colors">
            B/S Spangentechnik
          </li>
        </ul>
      </div>

      <!-- Contact -->
      <div>
        <h3 class="text-white text-lg font-bold mb-4">Kontakt</h3>
        <ul class="space-y-4">
          <li>
            <a
              href="tel:+4917634237368"
              class="flex items-start space-x-3 hover:text-primary-400 transition-colors text-sm"
            >
              <span class="mt-0.5 flex-shrink-0" set:html={icons.phone} />
              <span>+49 176 34237368</span>
            </a>
          </li>
          <li>
            <a
              href="mailto:info@fusspflege-lena-schneider.de"
              class="flex items-start space-x-3 hover:text-primary-400 transition-colors text-sm"
            >
              <span class="mt-0.5 flex-shrink-0" set:html={icons.mail} />
              <span>info@fusspflege-lena-schneider.de</span>
            </a>
          </li>
          <li class="flex items-start space-x-3 text-sm">
            <span class="mt-0.5 flex-shrink-0" set:html={icons.mapPin} />
            <span>
              Sachsenheim & Umgebung<br />
              Baden-Württemberg, Deutschland
            </span>
          </li>
        </ul>

        <!-- Cancellation Policy -->
        <div class="mt-6 pt-6 border-t border-gray-700">
          <p class="text-xs text-amber-400 font-semibold leading-relaxed">
            Nicht rechtzeitig abgesagte Termine werden mit 25€ berechnet.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="border-t border-gray-800">
    <div class="container px-5 sm:px-6 py-6">
      <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
        <p class="text-sm text-gray-400">
          © {currentYear} Fußpflege Lena Schneider. Alle Rechte vorbehalten.
        </p>
        <div class="flex flex-wrap justify-center gap-6 text-sm">
          <a
            href="/impressum"
            class="hover:text-primary-400 transition-colors"
          >
            Impressum
          </a>
          <a
            href="/datenschutz"
            class="hover:text-primary-400 transition-colors"
          >
            Datenschutz
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Back to Top Button -->
  <button
    id="back-to-top"
    class="fixed bottom-6 right-6 sm:bottom-8 sm:right-8 w-11 h-11 sm:w-12 sm:h-12 bg-primary-600 hover:bg-primary-700 active:bg-primary-800 text-white rounded-full shadow-lg hover:shadow-xl transition-all items-center justify-center z-40 touch-manipulation group hidden opacity-0"
    aria-label="Nach oben scrollen"
  >
    <span class="group-hover:-translate-y-0.5 transition-transform inline-block" set:html={icons.arrowUp} />
  </button>
</footer>

<script>
  // Back to top button functionality - vanilla JS
  const backToTopBtn = document.getElementById('back-to-top');

  if (backToTopBtn) {
    // Show/hide button based on scroll position
    const handleScroll = () => {
      if (window.scrollY > 300) {
        backToTopBtn.classList.remove('hidden');
        backToTopBtn.classList.add('flex');
        // Trigger fade in animation
        setTimeout(() => backToTopBtn.classList.remove('opacity-0'), 10);
      } else {
        backToTopBtn.classList.add('opacity-0');
        setTimeout(() => {
          backToTopBtn.classList.add('hidden');
          backToTopBtn.classList.remove('flex');
        }, 300);
      }
    };

    // Scroll to top when clicked
    backToTopBtn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Listen to scroll events
    window.addEventListener('scroll', handleScroll);

    // Check initial scroll position
    handleScroll();
  }
</script>
